# Cloud deployment values for Oracle OKE
# This file extends values.yaml with cloud-specific configurations
# Use for Oracle Kubernetes Engine (OKE) deployment

#=============================================================================
# Dapr Configuration (Phase 6: Cloud Deployment)
#=============================================================================
dapr:
  enabled: true

#=============================================================================
# Backend Configuration
#=============================================================================
backend:
  image:
    # Update with your GitHub username/organization
    # Example: ghcr.io/sarimarain99/hackathon_2/backend
    repository: ghcr.io/sarimarain99/hackathon_2/backend
    tag: latest
    pullPolicy: Always

  # Increase replicas for cloud deployment (horizontal scaling)
  replicas: 2

  # Cloud resource allocation (adjust based on OKE node pool)
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 250m
      memory: 256Mi

#=============================================================================
# Frontend Configuration
#=============================================================================
frontend:
  image:
    # Update with your GitHub username/organization
    # Example: ghcr.io/sarimarain99/hackathon_2/frontend
    repository: ghcr.io/sarimarain99/hackathon_2/frontend
    tag: latest
    pullPolicy: Always

  # Increase replicas for cloud deployment
  replicas: 2

  # Cloud resource allocation
  resources:
    limits:
      cpu: 300m
      memory: 384Mi
    requests:
      cpu: 150m
      memory: 192Mi

  # Backend API URL for cloud (internal cluster communication)
  env:
    NEXT_PUBLIC_API_URL: "http://backend:8000"

#=============================================================================
# Ingress Configuration (Oracle OKE with LoadBalancer)
#=============================================================================
ingress:
  enabled: true
  className: nginx
  # Update with your actual domain or OKE load balancer IP
  host: todo.cloud.example.com
  annotations:
    # TLS certificate (cert-manager or Oracle Certificate service)
    cert-manager.io/cluster-issuer: "letsencrypt-prod"
    # Oracle Cloud Infrastructure specific annotations
    # service.beta.kubernetes.io/oci-load-balancer-ssl-ports: "443"

#=============================================================================
# PostgreSQL Configuration (Optional - use Cloud DB instead)
#=============================================================================
postgres:
  enabled: false  # Use Oracle Autonomous Database or managed PostgreSQL
  # If enabled, would create a StatefulSet with persistent volume
